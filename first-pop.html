<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>å¼¹å‡º - ç”¨å¤ªå¤šé“¾è¡¨å†™æ³•å­¦ä¹ Rust</title>
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="ç”¨å¤ªå¤šé“¾è¡¨å†™æ³•å­¦ä¹ Rust">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body class="light">
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            document.body.className = theme;
            document.querySelector('html').className = theme + ' js';
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li><a href="index.html"><strong aria-hidden="true">1.</strong> ç®€ä»‹</a></li><li><a href="first.html"><strong aria-hidden="true">2.</strong> ä¸€ä¸ªä¸å¥½çš„æ ˆ</a></li><li><ol class="section"><li><a href="first-layout.html"><strong aria-hidden="true">2.1.</strong> å¸ƒå±€</a></li><li><a href="first-new.html"><strong aria-hidden="true">2.2.</strong> æ–°å»º</a></li><li><a href="first-ownership.html"><strong aria-hidden="true">2.3.</strong> æ‰€æœ‰æƒ101</a></li><li><a href="first-push.html"><strong aria-hidden="true">2.4.</strong> æ¨å…¥</a></li><li><a href="first-pop.html" class="active"><strong aria-hidden="true">2.5.</strong> å¼¹å‡º</a></li><li><a href="first-test.html"><strong aria-hidden="true">2.6.</strong> æµ‹è¯•</a></li><li><a href="first-drop.html"><strong aria-hidden="true">2.7.</strong> ä¸¢å¼ƒ</a></li><li><a href="first-final.html"><strong aria-hidden="true">2.8.</strong> æœ€ç»ˆä»£ç </a></li></ol></li><li><a href="second.html"><strong aria-hidden="true">3.</strong> ä¸€ä¸ªå¯ä»¥çš„æ ˆ</a></li><li><ol class="section"><li><a href="second-option.html"><strong aria-hidden="true">3.1.</strong> é€‰é¡¹</a></li><li><a href="second-generic.html"><strong aria-hidden="true">3.2.</strong> æ³›å‹</a></li><li><a href="second-peek.html"><strong aria-hidden="true">3.3.</strong> é€‰æ‹©</a></li><li><a href="second-into-iter.html"><strong aria-hidden="true">3.4.</strong> è¿›å…¥éå†</a></li><li><a href="second-iter.html"><strong aria-hidden="true">3.5.</strong> éå†</a></li><li><a href="second-iter-mut.html"><strong aria-hidden="true">3.6.</strong> å¯å˜éå†</a></li><li><a href="second-final.html"><strong aria-hidden="true">3.7.</strong> æœ€ç»ˆä»£ç </a></li></ol></li><li><a href="third.html"><strong aria-hidden="true">4.</strong> ä¸€ä¸ªæŒä¹…åŒ–çš„æ ˆ</a></li><li><ol class="section"><li><a href="third-layout.html"><strong aria-hidden="true">4.1.</strong> å¸ƒå±€</a></li><li><a href="third-basics.html"><strong aria-hidden="true">4.2.</strong> åŸºæœ¬</a></li><li><a href="third-drop.html"><strong aria-hidden="true">4.3.</strong> ä¸¢å¼ƒ</a></li><li><a href="third-arc.html"><strong aria-hidden="true">4.4.</strong> Arc</a></li><li><a href="third-final.html"><strong aria-hidden="true">4.5.</strong> æœ€ç»ˆä»£ç </a></li></ol></li><li><a href="fourth.html"><strong aria-hidden="true">5.</strong> ä¸€ä¸ªä¸å¥½çš„å®‰å…¨åŒå‘é˜Ÿåˆ—</a></li><li><ol class="section"><li><a href="fourth-layout.html"><strong aria-hidden="true">5.1.</strong> å¸ƒå±€</a></li><li><a href="fourth-building.html"><strong aria-hidden="true">5.2.</strong> æ„å»º</a></li><li><a href="fourth-breaking.html"><strong aria-hidden="true">5.3.</strong> æ‰“ç ´</a></li><li><a href="fourth-peek.html"><strong aria-hidden="true">5.4.</strong> é€‰æ‹©</a></li><li><a href="fourth-symmetry.html"><strong aria-hidden="true">5.5.</strong> å¯¹ç§°æƒ…å†µ</a></li><li><a href="fourth-iteration.html"><strong aria-hidden="true">5.6.</strong> è¿­ä»£</a></li><li><a href="fourth-final.html"><strong aria-hidden="true">5.7.</strong> æœ€ç»ˆä»£ç </a></li></ol></li><li><a href="fifth.html"><strong aria-hidden="true">6.</strong> ä¸€ä¸ªä¸å®‰å…¨çš„é˜Ÿåˆ—</a></li><li><ol class="section"><li><a href="fifth-layout.html"><strong aria-hidden="true">6.1.</strong> å¸ƒå±€</a></li><li><a href="fifth-unsafe.html"><strong aria-hidden="true">6.2.</strong> ä¸å®‰å…¨</a></li><li><a href="fifth-basics.html"><strong aria-hidden="true">6.3.</strong> åŸºç¡€</a></li><li><a href="fifth-extras.html"><strong aria-hidden="true">6.4.</strong> å…¶ä»–</a></li><li><a href="fifth-final.html"><strong aria-hidden="true">6.5.</strong> æœ€ç»ˆä»£ç </a></li></ol></li><li><a href="sixth.html"><strong aria-hidden="true">7.</strong> ä¸€ä¸ªå¯ä»¥çš„ä¸å®‰å…¨çš„åŒå‘é˜Ÿåˆ—</a></li><li><a href="infinity.html"><strong aria-hidden="true">8.</strong> ä¸€å †å‚»ä¹ä¹çš„é“¾è¡¨</a></li><li><ol class="section"><li><a href="infinity-double-single.html"><strong aria-hidden="true">8.1.</strong> åŒé‡å•é“¾</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">ç”¨å¤ªå¤šé“¾è¡¨å†™æ³•å­¦ä¹ Rust</h1>

                        <div class="right-buttons">
                            <a href="print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                            
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#å¼¹å‡º" id="å¼¹å‡º">å¼¹å‡º</a></h1>
<p>å’Œ<code>push</code>ä¸€æ ·ï¼Œ<code>pop</code>æƒ³è¦æ”¹å˜åˆ—è¡¨ã€‚ä¸<code>push</code>ä¸åŒçš„æ˜¯ï¼Œæˆ‘ä»¬å®é™…ä¸Šæƒ³è¿”å›ä¸€äº›ä¸œè¥¿ã€‚
ä½†<code>pop</code>è¿˜éœ€è¦å¤„ç†ä¸€ä¸ªæ£˜æ‰‹çš„è§’è½æƒ…å†µï¼šå¦‚æœé“¾è¡¨æ˜¯ç©ºçš„æ€ä¹ˆåŠï¼Ÿä¸ºäº†è¡¨ç¤ºè¿™ç§æƒ…å†µï¼Œ
æˆ‘ä»¬ä½¿ç”¨å¯é çš„<code>Option</code>ç±»å‹ï¼š</p>
<pre><code class="language-rust ignore">pub fn pop(&amp;mut self) -&gt; Option&lt;i32&gt; {
    // TODO
}
</code></pre>
<p><code>Option&lt;T&gt;</code>æ˜¯ä¸€ä¸ªæšä¸¾ï¼Œè¡¨ç¤ºä¸€ä¸ªå¯èƒ½å­˜åœ¨çš„å€¼ã€‚å®ƒå¯ä»¥æ˜¯<code>Some(T)</code>ï¼Œä¹Ÿå¯ä»¥æ˜¯<code>None</code>ã€‚
æˆ‘ä»¬å¯ä»¥åƒå¯¹å¾…Linkä¸€æ ·ï¼Œè‡ªå·±åšä¸€ä¸ªæšä¸¾ï¼Œä½†æ˜¯æˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬çš„ç”¨æˆ·èƒ½å¤Ÿç†è§£æˆ‘ä»¬çš„è¿”å›ç±»
å‹åˆ°åº•æ˜¯ä»€ä¹ˆï¼ŒOptionæ˜¯å¦‚æ­¤çš„æ— å¤„ä¸åœ¨ï¼Œä»¥è‡³äº<em>æ¯ä¸ªäºº</em>éƒ½çŸ¥é“å®ƒã€‚äº‹å®ä¸Šï¼Œå®ƒæ˜¯å¦‚æ­¤çš„åŸº
æœ¬ï¼Œä»¥è‡³äºåœ¨æ¯ä¸ªæ–‡ä»¶ä¸­éƒ½ä¼šéšå¼åœ°å¯¼å…¥åˆ°scopeä¸­ï¼Œè¿˜æœ‰å®ƒçš„å˜ä½“<code>Some</code>å’Œ<code>None</code>ï¼ˆæ‰€ä»¥æˆ‘
ä»¬ä¸å¿…è¯´<code>Option::None</code>ï¼‰ã€‚</p>
<p><code>Option&lt;T&gt;</code>ä¸Šçš„å°–å¤´è¡¨ç¤ºOptionå®é™…ä¸Šæ˜¯åœ¨Tä¸Š<code>é€šç”¨</code>çš„ï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥ä¸º<code>ä»»ä½•</code>ç±»å‹åˆ¶
ä½œä¸€ä¸ªOption!</p>
<p>é‚£ä¹ˆï¼Œå‘ƒï¼Œæˆ‘ä»¬æœ‰è¿™ä¸ª<code>Link</code>çš„ä¸œè¥¿ï¼Œæˆ‘ä»¬æ€ä¹ˆçŸ¥é“å®ƒæ˜¯ç©ºçš„è¿˜æ˜¯æœ‰Moreçš„ï¼Ÿæ¨¡å¼åŒ¹é…ä¸
<code>match</code>!</p>
<pre><code class="language-rust ignore">pub fn pop(&amp;mut self) -&gt; Option&lt;i32&gt; {
    match self.head {
        Link::Empty =&gt; {
            // TODO
        }
        Link::More(node) =&gt; {
            // TODO
        }
    };
}
</code></pre>
<pre><code class="language-text">&gt; cargo build

error[E0308]: mismatched types
  --&gt; src/first.rs:27:30
   |
27 |     pub fn pop(&amp;mut self) -&gt; Option&lt;i32&gt; {
   |            ---               ^^^^^^^^^^^ expected enum `std::option::Option`, found ()
   |            |
   |            this function's body doesn't return
   |
   = note: expected type `std::option::Option&lt;i32&gt;`
              found type `()`
</code></pre>
<p>ç³Ÿç³•ï¼Œ<code>pop</code>å¿…é¡»è¿”å›ä¸€ä¸ªå€¼ï¼Œè€Œæˆ‘ä»¬è¿˜æ²¡æœ‰è¿™æ ·åšã€‚æˆ‘ä»¬<em>å…¶å®å¯ä»¥</em>è¿”å›<code>None</code>ï¼Œä½†åœ¨è¿™ç§
æƒ…å†µä¸‹ï¼Œè¿”å›<code>unimplemented!()</code>å¯èƒ½æ˜¯ä¸€ä¸ªæ›´å¥½çš„ä¸»æ„ï¼Œä»¥è¡¨æ˜æˆ‘ä»¬è¿˜æ²¡æœ‰å®Œæˆå‡½æ•°çš„å®
ç°ã€‚<code>unimplemented!()</code>æ˜¯ä¸€ä¸ªå®(<code>!</code>è¡¨ç¤ºä¸€ä¸ªå®)ï¼Œå½“æˆ‘ä»¬åˆ°è¾¾å®ƒæ—¶ï¼Œå®ƒä¼šä½¿ç¨‹åºæƒŠæ…Œå¤±
æª(~ä»¥ä¸€ç§å¯æ§çš„æ–¹å¼ä½¿å®ƒå´©æºƒ)ã€‚</p>
<pre><code class="language-rust ignore">pub fn pop(&amp;mut self) -&gt; Option&lt;i32&gt; {
    match self.head {
        Link::Empty =&gt; {
            // TODO
        }
        Link::More(node) =&gt; {
            // TODO
        }
    };
    unimplemented!()
}
</code></pre>
<p>æ— æ¡ä»¶ææ…Œæ˜¯<a href="https://doc.rust-lang.org/nightly/book/ch19-04-advanced-types.html#the-never-type-that-never-returns">å‘æ•£å‡½æ•°</a>çš„ä¸€ä¸ªä¾‹å­ã€‚å‘æ•£å‡½æ•°æ°¸è¿œä¸ä¼šè¿”å›ç»™è°ƒç”¨è€…ï¼Œæ‰€ä»¥å®ƒ
ä»¬å¯ä»¥ç”¨åœ¨æœŸå¾…ä»»ä½•ç±»å‹çš„å€¼çš„åœ°æ–¹ã€‚è¿™é‡Œï¼Œ<code>unimplemented!()</code>è¢«ç”¨æ¥ä»£æ›¿ä¸€ä¸ª
<code>Option&lt;T&gt;</code>ç±»å‹çš„å€¼ã€‚</p>
<p>è¿˜è¦æ³¨æ„ï¼Œæˆ‘ä»¬çš„ç¨‹åºä¸­ä¸éœ€è¦å†™<code>return</code>ã€‚ä¸€ä¸ªå‡½æ•°ä¸­çš„æœ€åä¸€ä¸ªè¡¨è¾¾å¼ï¼ˆåŸºæœ¬ä¸Šæ˜¯è¡Œï¼‰éš
å«äº†å®ƒçš„è¿”å›å€¼ã€‚è¿™è®©æˆ‘ä»¬å¯ä»¥æ›´ç®€æ´åœ°è¡¨è¾¾çœŸæ­£ç®€å•çš„ä¸œè¥¿ã€‚ä½ æ€»æ˜¯å¯ä»¥åƒå…¶ä»–ç±»Cè¯­è¨€ä¸€
æ ·ï¼Œæ˜¾å¼åœ°ç”¨<code>return</code>æå‰è¿”å›ã€‚</p>
<pre><code class="language-text">&gt; cargo build

error[E0507]: cannot move out of borrowed content
  --&gt; src/first.rs:28:15
   |
28 |         match self.head {
   |               ^^^^^^^^^
   |               |
   |               cannot move out of borrowed content
   |               help: consider borrowing here: `&amp;self.head`
...
32 |             Link::More(node) =&gt; {
   |                        ---- data moved here
   |
note: move occurs because `node` has type `std::boxed::Box&lt;first::Node&gt;`, which does not implement the `Copy` trait
  --&gt; src/first.rs:32:24
   |
32 |             Link::More(node) =&gt; {
   |                        ^^^^
</code></pre>
<p>æ¥å§Rustï¼Œåˆ«çƒ¦æˆ‘ä»¬äº†ã€‚ä¸€å¦‚æ—¢å¾€ï¼ŒRustå¯¹æˆ‘ä»¬å¾ˆç”Ÿæ°”ã€‚å€¼å¾—åº†å¹¸çš„æ˜¯ï¼Œè¿™æ¬¡å®ƒä¹Ÿç»™äº†æˆ‘ä»¬å®Œ
æ•´çš„ä¿¡æ¯! é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¨¡å¼åŒ¹é…ä¼šå°è¯•å°†å…¶å†…å®¹ç§»åŠ¨åˆ°æ–°çš„åˆ†æ”¯ä¸­ï¼Œä½†æˆ‘ä»¬ä¸èƒ½è¿™æ ·åšï¼Œå› 
ä¸ºæˆ‘ä»¬åœ¨è¿™é‡Œæ²¡æœ‰æ‹¥æœ‰selfçš„å€¼ã€‚</p>
<pre><code class="language-text">help: consider borrowing here: `&amp;self.head`
</code></pre>
<p>Rustè¯´æˆ‘ä»¬åº”è¯¥åœ¨<code>match</code>ä¸­æ·»åŠ ä¸€ä¸ªå¼•ç”¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ğŸ¤·â™€ï¸è®©æˆ‘ä»¬è¯•è¯•å§ï¼š</p>
<pre><code class="language-rust ignore">pub fn pop(&amp;mut self) -&gt; Option&lt;i32&gt; {
    match &amp;self.head {
        Link::Empty =&gt; {
            // TODO
        }
        Link::More(ref node) =&gt; {
            // TODO
        }
    };
    unimplemented!()
}
</code></pre>
<pre><code class="language-text">&gt; cargo build

warning: unused variable: `node`
  --&gt; src/first.rs:32:24
   |
32 |             Link::More(node) =&gt; {
   |                        ^^^^ help: consider prefixing with an underscore: `_node`
   |
   = note: #[warn(unused_variables)] on by default

warning: field is never used: `elem`
  --&gt; src/first.rs:13:5
   |
13 |     elem: i32,
   |     ^^^^^^^^^
   |
   = note: #[warn(dead_code)] on by default

warning: field is never used: `next`
  --&gt; src/first.rs:14:5
   |
14 |     next: Link,
   |     ^^^^^^^^^^
</code></pre>
<p>ä¸‡å²ï¼Œåˆèƒ½ç¼–è¯‘äº†! ç°åœ¨è®©æˆ‘ä»¬å¼„æ¸…æ¥šè¿™ä¸ªé€»è¾‘ã€‚æˆ‘ä»¬æƒ³åšä¸€ä¸ªOptionï¼Œæ‰€ä»¥è®©æˆ‘ä»¬ä¸ºå®ƒåšä¸€
ä¸ªå˜é‡ã€‚åœ¨Emptyçš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦è¿”å›Noneã€‚åœ¨Moreçš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦è¿”å›<code>Some(i32)</code>
ï¼Œå¹¶æ”¹å˜åˆ—è¡¨çš„å¤´ã€‚é‚£ä¹ˆï¼Œè®©æˆ‘ä»¬è¯•ç€åŸºæœ¬åšåˆ°è¿™ä¸€ç‚¹ï¼Ÿ</p>
<pre><code class="language-rust ignore">pub fn pop(&amp;mut self) -&gt; Option&lt;i32&gt; {
    let result;
    match &amp;self.head {
        Link::Empty =&gt; {
            result = None;
        }
        Link::More(ref node) =&gt; {
            result = Some(node.elem);
            self.head = node.next;
        }
    };
    result
}
</code></pre>
<pre><code class="language-text">&gt; cargo build
   Compiling lists v0.1.0 (/Users/ABeingessner/dev/temp/lists)
error[E0507]: cannot move out of borrowed content
  --&gt; src/first.rs:35:29
   |
35 |                 self.head = node.next;
   |                             ^^^^^^^^^ cannot move out of borrowed content

</code></pre>
<p><em>è„‘è¢‹</em></p>
<p><em>åŠå…¬æ¡Œ</em></p>
<p>å½“æˆ‘ä»¬åªæœ‰ä¸€ä¸ªå…±äº«å¼•ç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ­£è¯•å›¾ç§»å‡º<code>node</code>ã€‚</p>
<p>æˆ‘ä»¬ä¹Ÿè®¸åº”è¯¥é€€ä¸€æ­¥ï¼Œæƒ³æƒ³æˆ‘ä»¬è¦åšä»€ä¹ˆã€‚æˆ‘ä»¬æƒ³ï¼š</p>
<ul>
<li>æ£€æŸ¥åˆ—è¡¨æ˜¯å¦ä¸ºç©ºã€‚</li>
<li>å¦‚æœæ˜¯ç©ºçš„ï¼Œå°±è¿”å›None</li>
<li>å¦‚æœå®ƒ<em>ä¸æ˜¯</em>ç©ºçš„
<ul>
<li>ç§»é™¤é“¾è¡¨çš„å¤´</li>
<li>ç§»é™¤å®ƒçš„<code>elem</code></li>
<li>ç”¨å®ƒçš„<code>next</code>ä»£æ›¿åˆ—è¡¨çš„å¤´</li>
<li>è¿”å›<code>Some(elem)</code></li>
</ul>
</li>
</ul>
<p>å…³é”®çš„è§è§£æ˜¯æˆ‘ä»¬è¦<em>åˆ é™¤</em>äº‹ç‰©ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬è¦<em>é€šè¿‡å€¼</em>æ¥è·å¾—åˆ—è¡¨çš„å¤´éƒ¨ã€‚æˆ‘ä»¬å½“ç„¶ä¸èƒ½é€šè¿‡æˆ‘ä»¬é€šè¿‡
<code>&amp;self.head</code>å¾—åˆ°çš„å…±äº«å¼•ç”¨æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚æˆ‘ä»¬ä¹Ÿ&quot;åª&quot;æœ‰ä¸€ä¸ªå¯¹<code>self</code>çš„å¯å˜å¼•ç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬ç§»åŠ¨ä¸œè¥¿
çš„å”¯ä¸€æ–¹æ³•å°±æ˜¯<em>æ›¿æ¢å®ƒ</em>ã€‚çœ‹æ¥æˆ‘ä»¬åˆåœ¨è·³Emptyèˆäº†ï¼</p>
<p>è®©æˆ‘ä»¬è¯•è¯•å§ï¼š</p>
<pre><code class="language-rust ignore">pub fn pop(&amp;mut self) -&gt; Option&lt;i32&gt; {
    let result;
    match mem::replace(&amp;mut self.head, Link::Empty) {
        Link::Empty =&gt; {
            result = None;
        }
        Link::More(node) =&gt; {
            result = Some(node.elem);
            self.head = node.next;
        }
    };
    result
}
</code></pre>
<pre><code class="language-text">cargo build

   Finished dev [unoptimized + debuginfo] target(s) in 0.22s
</code></pre>
<p>O M G</p>
<p>å®ƒåœ¨ç¼–è¯‘æ—¶æ²¡æœ‰<em>ä»»ä½•</em>è­¦å‘Š!!!!!</p>
<p>å…¶å®æˆ‘åœ¨è¿™é‡Œè¦å¥—ç”¨ä¸€ä¸‹æˆ‘ä¸ªäººçš„å¥—è·¯ï¼šæˆ‘ä»¬æŠŠè¿™ä¸ª<code>result</code>åšæˆäº†è¿”å›ï¼Œä½†å…¶å®æˆ‘ä»¬æ ¹æœ¬
ä¸éœ€è¦è¿™ä¹ˆåšï¼å°±åƒä¸€ä¸ªå‡½æ•°è¿ç®—ç»“æœæ˜¯å®ƒçš„æœ€åä¸€ä¸ªè¡¨è¾¾å¼ä¸€æ ·ï¼Œæ¯ä¸ªå—çš„è¿ç®—ç»“æœä¹Ÿæ˜¯
å®ƒçš„æœ€åä¸€ä¸ªè¡¨è¾¾å¼ã€‚é€šå¸¸æˆ‘ä»¬ä¼šç”¨åˆ†å·é˜»æ­¢è¿™ç§è¡Œä¸ºï¼Œè¿™æ ·åè€Œä¼šä½¿å—è¯„ä¼°ä¸ºç©ºå…ƒç»„ï¼Œ
<code>ï¼ˆï¼‰</code>ã€‚è¿™å®é™…ä¸Šæ˜¯ä¸å£°æ˜è¿”å›å€¼çš„å‡½æ•°--æ¯”å¦‚<code>push</code>--è¿”å›çš„å€¼ã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†<code>pop</code>å†™æˆï¼š</p>
<pre><code class="language-rust ignore">pub fn pop(&amp;mut self) -&gt; Option&lt;i32&gt; {
    match mem::replace(&amp;mut self.head, Link::Empty) {
        Link::Empty =&gt; None,
        Link::More(node) =&gt; {
            self.head = node.next;
            Some(node.elem)
        }
    }
}
</code></pre>
<p>è¿™æ›´ç®€æ´ã€æ›´æƒ¯ç”¨ã€‚è¯·æ³¨æ„ï¼ŒLink::Emptyåˆ†æ”¯å®Œå…¨å¤±å»äº†æ‹¬å·ï¼Œå› ä¸ºæˆ‘ä»¬åªæœ‰ä¸€ä¸ªè¡¨è¾¾å¼
éœ€è¦è¿ç®—ã€‚åªæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ç®€å†™ï¼Œç”¨äºç®€å•çš„æƒ…å†µã€‚</p>
<pre><code class="language-text">cargo build

   Finished dev [unoptimized + debuginfo] target(s) in 0.22s
</code></pre>
<p>å¥½ï¼Œä»èƒ½è¿è¡Œï¼</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="first-push.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="first-test.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a href="first-push.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a href="first-test.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
